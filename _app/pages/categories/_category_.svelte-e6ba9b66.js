import{S as j,i as w,s as C,e as u,t as E,k as L,c as f,a as p,h as M,d as h,m as U,b as m,g,G as _,j as P,L as S,K as k,M as q}from"../../chunks/vendor-0566a365.js";import{u as x,p as v}from"../../chunks/allPosts-6b77ef9a.js";import"../../chunks/preload-helper-ec9aa979.js";function y(r,a,e){const n=r.slice();return n[1]=a[e],n}function b(r,a){let e,n,o=a[1].metadata.title+"",i,t,s;return{key:r,first:null,c(){e=u("li"),n=u("a"),i=E(o),s=L(),this.h()},l(l){e=f(l,"LI",{});var c=p(e);n=f(c,"A",{href:!0});var d=p(n);i=M(d,o),d.forEach(h),s=U(c),c.forEach(h),this.h()},h(){m(n,"href",t=v(a[1])),this.first=e},m(l,c){g(l,e,c),_(e,n),_(n,i),_(e,s)},p(l,c){a=l,c&1&&o!==(o=a[1].metadata.title+"")&&P(i,o),c&1&&t!==(t=v(a[1]))&&m(n,"href",t)},d(l){l&&h(e)}}}function A(r){let a,e=[],n=new Map,o=r[0];const i=t=>t[1].slug;for(let t=0;t<o.length;t+=1){let s=y(r,o,t),l=i(s);n.set(l,e[t]=b(l,s))}return{c(){a=u("ul");for(let t=0;t<e.length;t+=1)e[t].c()},l(t){a=f(t,"UL",{});var s=p(a);for(let l=0;l<e.length;l+=1)e[l].l(s);s.forEach(h)},m(t,s){g(t,a,s);for(let l=0;l<e.length;l+=1)e[l].m(a,null)},p(t,[s]){s&1&&(o=t[0],e=S(e,s,i,1,t,o,n,a,q,b,null,y))},i:k,o:k,d(t){t&&h(a);for(let s=0;s<e.length;s+=1)e[s].d()}}}async function K({params:r,fetch:a}){const{category:e}=r;return{props:{posts:(await(await a("/api/posts.json")).json()).map(x).filter(i=>{function t(s){return s.localeCompare(e,void 0,{sensitivity:"base"})===0}return i.metadata.categories.filter(t).length!==0}).reverse()}}}function B(r,a,e){let{posts:n}=a;return r.$$set=o=>{"posts"in o&&e(0,n=o.posts)},[n]}class z extends j{constructor(a){super();w(this,a,B,A,C,{posts:0})}}export{z as default,K as load};
